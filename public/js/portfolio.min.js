!function(e){function t(e){for(var t={},i=window.location.search.substring(1),n=i.split("&"),o=0;o<n.length;o++){var r=n[o].split("=");if("undefined"==typeof t[r[0]])t[r[0]]=decodeURIComponent(r[1]);else if("string"==typeof t[r[0]]){var a=[t[r[0]],decodeURIComponent(r[1])];t[r[0]]=a}else t[r[0]].push(decodeURIComponent(r[1]))}return t[e]?t[e]:!1}function i(t,i){t===!1&&(t="1LjdZTcQD3IiaL55n-W1PN2naSrYEN0THl5KKe7HlTiI");var n="https://spreadsheets.google.com/feeds/list/"+t+"/"+i+"/public/values";n+="?alt=json-in-script&callback=?",console.log(n),e.ajax({type:"GET",url:n,cache:!1,dataType:"jsonp",jsonp:"myFunc",success:function(e,t){console.log(e.feed),s(e)},error:function(e,t,i){console.log(t)}})}function n(e){return e=e.replace(/(\r\n|\n|\r)/g,""),e=r(e," ",""),e.toLowerCase()}function o(e){return e=e.replace(/(\r\n|\n|\r)/g,""),e=r(e," ",""),e.split(",")}function r(e,t,i){return e.replace(new RegExp(t,"g"),i)}function a(){L=.3*e(window).width(),500>L&&(L=500),L>e(window).width()-10&&(L=e(window).width()-10)}function s(t){function i(){S(w(window.location.hash.replace("#",""))),clearInterval(f)}$=o(t.feed.entry[0].gsx$content.$t),V=o(t.feed.entry[1].gsx$content.$t),B=o(t.feed.entry[2].gsx$content.$t),z=o(t.feed.entry[3].gsx$content.$t);for(var r=parseInt(t.feed.entry[5].gsx$content.$t),a=0,s=6;6+12*r>s;s+=12){console.log(t.feed.entry[s]);var p="y";if("mkkpn"===D||D===!1?p=t.feed.entry[s].gsx$mkkpn.$t:"ylagyf"===D?p=t.feed.entry[s].gsx$ylagyf.$t:"epaz"===D&&(p=t.feed.entry[s].gsx$epanz.$t),""!==p){var m={};m.buttonid="_to"+n(String(t.feed.entry[s].gsx$content.$t))+"Button",m.id=n(String(t.feed.entry[s].gsx$content.$t)),m.title=String(t.feed.entry[s].gsx$content.$t),m.subtitle=String(t.feed.entry[1+s].gsx$content.$t),m.client=String(t.feed.entry[2+s].gsx$content.$t),m.year=String(t.feed.entry[3+s].gsx$content.$t),m.status=String(t.feed.entry[4+s].gsx$content.$t),m.header=String(t.feed.entry[6+s].gsx$content.$t),m.desc=String(t.feed.entry[7+s].gsx$content.$t),m.cat=o(t.feed.entry[8+s].gsx$content.$t),m.thumb=t.feed.entry[9+s].gsx$content.$t,m.img=o(t.feed.entry[10+s].gsx$content.$t),m.special=t.feed.entry[11+s].gsx$content.$t,R.push(m)}a++}for(P=V.slice(0),s=0;s<B.length;s++)P.push(B[s]);for(s=0;s<z.length;s++)P.push(z[s]);if(I=R.slice(0),I.push(["_toThumbButton","_projectThumbnails"],["_toContactButton","contact"]),H=2,M=I.slice(0),M.unshift(["_toClientList","clients","",""]),l(),b(),g(),d(),c(),""!==window.location.hash.replace("#","")&&w(window.location.hash.replace("#",""))!==!1)var f=setInterval(i,2e3);e(window).scroll(function(){h()})}function l(){for(var t=0;t<M.length;t++)e("#_projectSlidesContainer").append('<div class="_imageViewersContainer" id="_imageViewersContainer'+String(t)+'">');for(var t=0;t<R.length;t++){e("#_imageViewersContainer0").append('<div class="brick" data-id="_projectThumbnail'+String(t)+'" data-numb="'+String(t)+'" style="width:'+String(100*(2+(2*Math.random()<<0)))+'px;  text-align:left; border-bottom:solid thin #000; opacity:0;"><img src="img/'+String(R[t].thumb)+'" width="100%"><p style="font-family:Raleway, Helvetica, sans-serif;">'+String(R[t].title)+'</p><p style="font-size:75%; font-family:open_sanslight">'+String(R[t].subtitle)+"</p></div>"),e('[data-id="_projectThumbnail'+String(t)+'"]').click(function(t){N="proj",t.preventDefault(),location.hash=R[parseInt(e(this).attr("data-numb"))].id,S(parseInt(e(this).attr("data-numb"))+1e3)}),e("#_imageViewersContainer"+String(t+2)).append('<div class="_imageViewers _parallax" id="_parallax'+String(t)+'" style="margin-top:120px;"></div><div class="overlay"></div><div class="_imageTextBox" id="'+R[t].buttonid+'"><div style="padding-bottom:60px;"><h1 class="_projectTitle">'+String(R[t].title)+'</h1><h2 class="_projectSubttle">'+String(R[t].subtitle)+'</div><div style="width:100%; max-width:1280px; border-bottom:solid thin #CCC; border-top:solid thin #CCC; padding:50px 0px;"><div style="width:30%; float:left;"><div class="informationList">Client : '+String(R[t].client)+'</div><div class="informationList">Year : '+String(R[t].year)+'</div><div class="informationList">Status : '+String(R[t].status)+'</div></div><div class="informationDescription" style="width:65%; float:right;">'+String(R[t].desc)+'</div><div style="clear: both;"></div> </div></div></div></div>'),e("#_parallax"+String(t)).css({background:"url(img/"+R[t].header+")",width:"100%",height:"100%",margin:"0 auto",position:"absolute","background-size":"cover","background-attachment":"fixed","background-repeat":"repeat-y","background-position":"top center"});for(var i=0;i<R[t].img.length;i++)e("#_imageViewersContainer"+String(t+2)).append('<div class="_imageViewers"><img src="img/'+String(R[t].img[i])+'"></div>');""!==R[t].cat&&e("#_imageViewersContainer"+String(t+2)).append(R[t].special)}var n=new Freewall("#_imageViewersContainer0");n.reset({selector:".brick",animate:!0,cellW:300,cellH:"auto",delay:50,onResize:function(){n.fitWidth()}});var o=n.container.find(".brick");for(o.find("img").load(function(){n.fitWidth()}),t=0;t<R.length;t++)e("#_imageViewersContainer"+String(t+H)).css({height:"0px",visibility:"hidden",display:"none"})}function c(){e(".overlay").css({background:"url(../img/pattern.png)",width:"100%",position:"absolute",overflow:"hidden"}),e("._projectTitle").css({"font-size":"8rem","text-align":"center",margin:".2rem 0rem","font-family":"Raleway"}),e("._projectSubttle").css({"text-align":"center","margin-bottom":"20px","padding-bottom":"20px","font-size":"3.6rem",margin:"2rem 0rem","font-style":"italic","font-family":"Raleway"}),e("._imageTextBox").css({"padding-top":"20px","text-align":"left","max-width":"1280px",color:"#000",padding:"20px 15px",background:"rgba(255,255,255,255.5)","margin-bottom":"120px"}),e(".informationList").css({"font-size":"1.0rem",padding:"2px 0px","font-family":"Didot"}),e(".informationDescription").css({"font-size":"1.2rem","font-family":"Didot"})}function d(){if("mkkpn"!==D&&D!==!1){e("#_imageViewersContainer"+String(1)).append('<div class="_imageViewers"><div class="_imageViewers _parallax" style="margin-top:120px;"></div><div class="overlay"></div><div class="_imageTextBox"><div style="padding-bottom:20px;"><span style="font-family: Raleway, Helvetica, sans-serif; font-weight: lighter; color: #777; font-size:1.6rem;">Client List</span><p style="font-family: Raleway, Helvetica, sans-serif; font-weight: lighter; color: #777; font-size:1rem;">Following list is clients of my personal and of the organization where I belonged to</p></div><div style="width:100%; max-width:1280px; border-bottom:solid thin #CCC; border-top:solid thin #CCC; padding:50px 0px;"><div id="_clientListContainer"></div></div></div></div>');for(var t=0;t<$.length;t++)console.log($[t]),e("#_clientListContainer").append('<span style="padding:20px;  display: inline-block; height: 100%; vertical-align: middle;"><img src='+$[t]+' style="width:160px; margin:20px;"/></div>')}e("#_imageViewersContainer"+String(M.length-1)).append('<div style="border-top:#CCC solid thin; width:100%; max-width:1280px; padding:50px 0px; margin:30px 0px; color:#333; text-align:left; "><div id="contact"><p style="font-size:120%; margin:0px 10px;">Contact</p><p id="_contactContent" style="margin:10px 10px;" > Takuma Kakehi <br/><br/>225 himrod st., APT#3R.,<br/>Brooklyn, NY, 11237 USA<br/><br/>TEL : +81-804385-7887<br/>Email : <a href="emailto:takuma.kakehi@gmail.com">takuma.kakehi@gmail.com</a> </p></div></div>')}function g(){for(var t=0;t<R.length;t++)e('[id="_tableOfContentsUnorderedList"]').append('<li id="'+String(R[t][0])+'"><a href="#'+String(R[t].buttonid)+'">'+String(R[t].id)+"</a><br/>"+String(R[t].title)+"</li>")}function p(){0==U&&(U=!0,null==j&&(j=e("#_menuContainer").css("width")),null==C&&(C=e("#_menuContainer").css("max-width")),null==k&&(k=e("#_menuContainer").css("opacity")),1==x?e("#_menuContainer").css({width:C,height:String(e(window).height())+"px",opacity:1}):e("#_menuContainer").animate({width:C,height:String(e(window).height())+"px",opacity:1},0),e("#_menuContainer").css({cursor:"inherit"}),e("#_goTopButton").add("#_sideMenuIcon").css({display:"none"}),e("#_sideMenuTitle").css({display:"inherit"}))}function m(){1==U&&(U=!1,1==x?(e("#_menuContainer").css({width:j,height:j,opacity:k}),e("#_goTopButton").add("#_sideMenuIcon").css({display:"inherit"}),e("#_sideMenuTitle").css({display:"none"})):e("#_menuContainer").animate({width:j,height:j,opacity:k},0,function(){e("#_goTopButton").add("#_sideMenuIcon").css({display:"inherit"}),e("#_sideMenuTitle").css({display:"none"})}),e("#_menuContainer").css({cursor:"pointer"}))}function h(){var t=e(document).scrollTop();0!=K?0==W&&(W=!0,e("#_menuContainer").animate({top:"0.5rem"}),e("#_goTopButton").animate({bottom:"0.5rem"})):1==W&&(W=!1,e("#_menuContainer").animate({top:"-8rem"}),e("#_goTopButton").animate({bottom:"-8rem"}));for(var i=0;i<M.length;i++)0==i?t<e("#_imageViewersContainer"+String(i+2)).offset().top&&(K=i):i==M.length-1&&t+e(window).height()>e("#_imageViewersContainer"+String(i)).offset().top&&(K=i);F!=K&&(Q=!0,F=K),v(),0==K||K>M.length?1==Y&&(Y=!1,e("._hoverSideProjectLebel").animate({bottom:"-8rem"}),e("._hoverSideProjectLebel ._projectLabelBackground").animate({width:"40"})):0==Y&&(Y=!0,e("._hoverSideProjectLebel").animate({bottom:"0.5rem"}),e("._hoverSideProjectLebel ._projectLabelBackground").animate({width:String(Math.round(G[K]))})),U===!0&&m()}function f(t){e("[id="+String(I[t].buttonid)+"]").find("a").click(function(){u(t)})}function u(t){e("html, body").animate({scrollTop:e("#_imageViewersContainer"+String(t+2)).offset().top},T/2)}function v(){y(K),1==Q&&1==O&&(Q=!1,e("._hoverSideProjectLebel ._projectLabelBackground").stop().animate({width:String(Math.round(G[K]))},300))}function _(){O?(O=!1,e("._hoverSideProjectLebel").css({cursor:"pointer"}),e("._hoverSideProjectLebel ._projectClose").css({cursor:"default"}),e("._hoverSideProjectLebel ._projectLabelBackground").stop().animate({width:String(Math.round(40))},300)):(O=!0,e("._hoverSideProjectLebel").css({cursor:"arrow"}),e("._hoverSideProjectLebel ._projectClose").css({cursor:"pointer"}),e("._hoverSideProjectLebel ._projectLabelBackground").stop().animate({width:String(Math.round(G[K]))},300))}function y(t){var i;i=10>t?"0"+String(t):String(t),0==t||t>R.length?e("._hoverSideProjectLebel ._projectNumber").html(""):e("._hoverSideProjectLebel ._projectNumber").html(i);var n,o;M[t][2]&&""!=M[t][2]?(n="A",e("._hoverSideProjectLebel").find("._projectTitle").css({display:"inherit"}),e("._hoverSideProjectLebel").find("._projectTitle").html(M[t][2])):(n="B",e("._hoverSideProjectLebel").find("._projectTitle").css({display:"none"}),e("._hoverSideProjectLebel").find("._projectTitle").html("")),M[t][3]&&""!=M[t][3]?(o="A",e("._hoverSideProjectLebel").find("._projectDescription").css({display:"inherit"}),e("._hoverSideProjectLebel").find("._projectDescription").html(M[t][3])):(o="B",e("._hoverSideProjectLebel").find("._projectDescription").css({display:"none"}),e("._hoverSideProjectLebel").find("._projectDescription").html("")),e("#_dummy-text").html(t+" ++ "+n+o+" ++ "+e("._hoverSideProjectLebel ._projectDescription").width()+" ++ "+e("._hoverSideProjectLebel ._projectDescription").html()+" ++ "+M[t][3])}function b(){for(var t=0;t<P.length;t++){var i;i=e(t<V.length?"#_headerCategoryMenu":t<V.length+B.length?"#_headerRoleMenu":"#_headerSoftMenu"),i.append('<li id="_myProjectSort'+String(t)+'" data-numb="'+String(t)+'" style="list-style: none; display:inline; cursor:pointer;">'+P[t]+"</li>"),t<V.length?e("#_myProjectSort"+String(t)).css({"font-weight":"bold","font-family":"Raleway, Helvetica, sans-serif","font-size":"2.5rem",padding:"1rem 3rem"}):t<V.length+B.length?e("#_myProjectSort"+String(t)).css({"font-style":"italic","font-family":"Didot, Helvetica, sans-serif","font-size":"2.5rem",padding:"1rem 3rem"}):e("#_myProjectSort"+String(t)).css({"font-style":"italic","font-weight":"bold","font-family":"Raleway, Helvetica, sans-serif","font-size":"1.5rem",padding:"1rem 1rem"}),e("#_myProjectSort"+String(t)).click(function(t){N="cat",t.preventDefault(),location.hash=P[parseInt(e(this).attr("data-numb"))],S(e(this).attr("data-numb"))})}}function w(e){for(var t=0;t<R.length;t++)if(R[t].id===e)return N="proj",t+1e3;for(var t=0;t<P.length;t++)if(P[t]===e)return N="cat",t;return!1}function S(t){if(A===t||t===!1){A=null,N=null,e("#_imageViewersContainer1").css({height:"inherit",visibility:"visible"});for(var i=0;i<R.length;i++)e("#header").find("[id="+String(I[i][0])+"]").stop().animate({opacity:"1"}),e("#_imageViewersContainer0").find("[data-id='_projectThumbnail"+String(i)+"']").stop().animate({opacity:"1"}),e("#_imageViewersContainer"+String(i+H)).css({height:"0px",visibility:"hidden",display:"none"})}else{A=parseInt(t),e("#_imageViewersContainer1").css({height:"0px",visibility:"hidden"});for(var i=0;i<R.length;i++){var n=!1;if("cat"==N)for(var o=0;o<R[i].cat.length;o++)0==n&&P[A]==R[i].cat[o]&&(n=!0);else i+1e3==t&&(n=!0);1!=n?("proj"!=N&&(e("#header").find("[id="+String(I[i][0])+"]").stop().animate({opacity:".25"}),e("#_imageViewersContainer0").find("[data-id='_projectThumbnail"+String(i)+"']").stop().animate({opacity:".1"})),e("#_imageViewersContainer"+String(i+H)).css({height:"0px",visibility:"hidden",display:"none"})):(e("#header").find("[id="+String(I[i][0])+"]").stop().animate({opacity:"1"}),e("#_imageViewersContainer0").find("[data-id='_projectThumbnail"+String(i)+"']").stop().animate({opacity:"1"}),e("#_imageViewersContainer"+String(i+H)).css({height:"inherit",visibility:"visible",display:"inherit"}))}}for(var i=0;i<P.length;i++)A!=i&&null!=A?e("#_myProjectSort"+String(i)).stop().animate({opacity:".25"}):e("#_myProjectSort"+String(i)).stop().animate({opacity:"1"});"proj"==N&&u(t-1e3)}var x,j,C,k,L,T,$,P,V,B,z,D=t("type");i(t("portfolio"),"od6");var I,M,R=[],H=2,A=null,N=null,E=!1;e(window).resize(function(){E!==!1&&clearTimeout(E),E=setTimeout(function(){a()},200)}),a();var U=!1;if(/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent))x=!0,T=0,e("#_menuContainer").click(function(){0==U?p():m()});else{x=!1,T=400,e("#_menuContainer").mouseover(function(){p()}).mouseout(function(){m()});var E=!1;E!==!1&&clearTimeout(E),E=setTimeout(function(){for(var e=0;e<I.length;e++)f(e)},1e3)}var W=!1,F=0,K=0,Y=!1,O=!0,Q=!1;0==x&&e("#_goTopButton").mouseover(function(){return e(this).css({"background-color":"#666"}),!1}).mouseout(function(){return e(this).css({"background-color":"#000"}),!1}),e("#_goTopButton").click(function(){return e("body,html").animate({scrollTop:0},100),!1}),e("img").lazyload({event:"sporty"});var G=(setTimeout(function(){e("img").trigger("sporty")},200),[]);e("._hoverSideProjectLebel ._projectClose").click(function(){_()}),e("._hoverSideProjectLebel ._projectNumber").click(function(){_()}),e("._hoverSideProjectLebel ._projectClose").css({cursor:"pointer"}),document.onmouseover=function(){window.innerDocClick=!0},document.onmouseleave=function(){window.innerDocClick=!1},window.onhashchange=function(){0==window.innerDocClick&&S(w(location.hash.replace("#","")))}}(jQuery);