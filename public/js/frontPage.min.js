function movePage(o){if(-2>initialPos&&4>projNumb&&scrollon===!1&&(projNumb+=1,scrollon=!0),initialPos>2&&projNumb>0&&scrollon===!1&&projectcandispatchUp===!0&&(projNumb-=1,scrollon=!0),0===projNumb&&(goalPosY1=goalPosY2=goalPosY3=goalPosY4=0),1===projNumb&&(goalPosY1=goalPosY2=goalPosY3=goalPosY4=-1.5*$(window).height(),projecton===!1&&(openProject(1),projecton=!0,scrollInterval=100)),0===$("#projectContainer").scrollTop()&&(containerBasePos=0,setTimeout(function(){projectcandispatchUp=!0},600)),$("#projectContainer").scrollTop()>0&&(projectcandispatchUp=!1),0!=initialPos&&scrollon===!0){var t=Math.round(Math.abs(1e3-Math.abs(2*(initialPos+100)))/1.2);t>1e3&&(t=1e3),600>t&&(t=600);$("#introPage1").stop().animate({top:goalPosY1},t),$("#introPage2").stop().animate({top:goalPosY2},t),$("#introPage3").stop().animate({top:goalPosY3},t),$("#introPage4").stop().animate({top:goalPosY4},t,function(){var o=0;o=4===projNumb&&$("#projectContainer").scrollTop()<150?3500:600,setTimeout(function(){scrollon=!1},o)}),initialPos=0}lasctScrollTop=$("#projectContainer").scrollTop()}function createProject(){for(var o=0;o<_myProjects.length;o++)$("#projectContainer").append('<div class="project" id="project'+o+'" data-id="'+o+'" style="z-index:'+(1e4+o)+'"><img class="img-container"src="img/'+_myProjects[o].thumb+'"><div class="img-over"></div><div class="img-over-caption"><h1>'+_myProjects[o].title+"</h1><h3><span>"+_myProjects[o].subtitle+"</span></h3></div></div>"),_projectDiv.push($("#projectContainer").find("#project"+o));_sortedProjectDiv=_projectDiv,adjustSize();for(var o=0;o<_myProjects.length;o++)$("#projectContainer").find("#project"+o).css({width:projectSize,height:projectSize,top:projectPos[o].top,left:projectPos[o].left,transform:"scale(0,0)"}),$("#projectContainer").find(".img-over-caption").css({transform:"scale(1.2,1.2)",opacity:0}),isMobile===!1&&$("#projectContainer").find("#project"+o).mouseenter(function(){$(this).find(".img-container").stop().animate({transform:"scale(1.3,1.3s)"},8e3,"linear"),$(this).find(".img-over").animate({opacity:.5}),$(this).find(".img-over-caption").animate({transform:"scale(1,1)",opacity:1})}).mouseleave(function(){$(this).find(".img-container").stop().animate({transform:"scale(1,1)"},200,"linear"),$(this).find(".img-over").animate({opacity:0}),$(this).find(".img-over-caption").animate({transform:"scale(1.2,1.2)",opacity:0})}),$("#projectContainer").find("#project"+o).click(function(o){$_GET("type")!==!1?window.location.href="project.html?type="+$_GET("type")+"#"+_myProjects[$(this).data("id")].id:window.location.href="project.html#"+_myProjects[$(this).data("id")].id});createFooter($("#projectContainer")),$("footer").attr({id:"videocontainer"}),$("footer").css({top:projectContainerHeight+600}),0!=isYoutube(_youtubeurl)&&$("footer").prepend('<iframe src="http://www.youtube.com/embed/'+isYoutube(_youtubeurl)+'?autoplay=0&controls=1&showinfo=0"></iframe>')}function closeProject(){for(var o=0;o<_sortedProjectDiv.length;o++)_sortedProjectDiv[o].delay(Math.round(500*Math.random()+500)).animate({transform:"scale(0,0)"})}function openProject(o){for(var t=0;t<_sortedProjectDiv.length;t++)_sortedProjectDiv[t].delay(Math.round(500*Math.random()+500)*o).animate({top:projectPos[t].top+containerBasePos,left:projectPos[t].left,transform:"scale(1,1)"},function(){projectscrollable=!0})}function animateProject(o,t){projectscrollable=!1;for(var e=0;e<_sortedProjectDiv.length;e++)_sortedProjectDiv[e].stop().animate({width:projectSize,height:projectSize,top:projectPos[e].top+containerBasePos,left:projectPos[e].left},5*t,function(){projectscrollable=!0});console.log(projectContainerHeight,projectContainerHeight/kk,kk,projectSize),$("#projectContainer").find("#videocontainer").stop().animate({top:projectContainerHeight},5*t)}function adjustSize(){var o=1;for(projectSize=$(window).width();projectSize>600;)projectSize=Math.floor($(window).width()/o),o++;o=Math.floor($(window).width()/projectSize),$(".img-over-caption h1").css({"font-size":Math.round(projectSize/.9)/10}),projectPos=[];for(var t=0,e=0,i=0;i<_sortedProjectDiv.length;i++)projectPos[i]={top:projectSize*e,left:projectSize*t},o-1>t?t++:(t=0,e++);projectContainerHeight=Math.ceil((_sortedProjectDiv.length-1)/o)*projectSize}var isFirstTime=!1,isMobile=!1,projectPage=!1,scrollon=!1,initialPos=0,animateSetTimeOut,projNumb=0,pastprojNumb=0,goalPosY1=0,goalPosY2=0,goalPosY3=0,goalPosY4=0,scrollInterval=5,lasctScrollTop=0;$(document).ready(function(){$.cookie("visited");if("yes"!=$.cookie("visited")&&($.cookie("visited","yes"),isFirstTime=!0),$.cookie("visited","yes",{expires:1,path:"/"}),/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent)&&(isMobile=!0),isMobile===!0){var o=0;window.addEventListener("scroll",function(){var t=$(this).scrollTop();t>o&&(scrollon=!0,movePage(!1)),o=t})}_loadJSON($_GET("portfolio"),"od6"),$(".svg-wrapper").click(function(o){filterOpen===!1?openFilter():closeFilter(),$(this).toggleClass("open")})});var projecton=!1,projectscrollable=!1,projectcandispatchUp=!0,containerBasePos=0,projectSize=0,projectPos=[],projectContainerHeight,_projectDiv=[],_sortedProjectDiv=[],kk,resizetimeout=!1;$(window).resize(function(){null!=resizetimeout&&clearTimeout(resizetimeout),resizetimeout=setTimeout(function(){adjustSize(),animateProject(0,100)},300)});